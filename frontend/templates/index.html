<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinGenie - AI-Powered Personal Finance Assistant</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
</head>
<body>
    <!-- Header Navigation -->
    <header class="header-nav">
        <div class="header-container">
            <a href="/" class="header-logo">
                <div class="header-logo-icon">
                    <i class="fas fa-coins"></i>
                </div>
                <span class="header-logo-text">FinGenie</span>
            </a>

            <nav class="header-menu">
                <a href="/" class="header-link active">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="/about" class="header-link">
                    <i class="fas fa-info-circle"></i> About
                </a>
                <div class="header-dropdown">
                    <button class="header-link header-dropdown-toggle">
                        <i class="fas fa-th"></i> Pages
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div class="header-dropdown-menu">
                        <a href="/dashboard" class="header-dropdown-item">
                            <i class="fas fa-chart-line"></i> Dashboard
                        </a>
                        <a href="/chat" class="header-dropdown-item">
                            <i class="fas fa-comments"></i> AI Assistant
                        </a>
                        <div class="header-dropdown-divider"></div>
                        <a href="/dashboard#analytics" class="header-dropdown-item">
                            <i class="fas fa-chart-bar"></i> Analytics
                        </a>
                        <a href="/dashboard#budget" class="header-dropdown-item">
                            <i class="fas fa-wallet"></i> Budget
                        </a>
                        <a href="/dashboard#investments" class="header-dropdown-item">
                            <i class="fas fa-chart-pie"></i> Investments
                        </a>
                        <a href="/dashboard#transactions" class="header-dropdown-item">
                            <i class="fas fa-exchange-alt"></i> Transactions
                        </a>
                        <a href="/dashboard#goals" class="header-dropdown-item">
                            <i class="fas fa-bullseye"></i> Goals
                        </a>
                        <a href="/dashboard#loans" class="header-dropdown-item">
                            <i class="fas fa-file-invoice-dollar"></i> Loans
                        </a>
                        <div class="header-dropdown-divider"></div>
                        <a href="/dashboard#reports" class="header-dropdown-item">
                            <i class="fas fa-file-alt"></i> Reports
                        </a>
                        <a href="/dashboard#insights" class="header-dropdown-item">
                            <i class="fas fa-lightbulb"></i> Insights
                        </a>
                    </div>
                </div>
            </nav>

            <div class="header-actions">
                <a href="/login" class="header-btn header-btn-secondary auth-only-logged-out">
                    <i class="fas fa-sign-in-alt"></i> Sign In
                </a>
                <a href="/signup" class="header-btn header-btn-primary auth-only-logged-out">
                    <i class="fas fa-rocket"></i> Get Started
                </a>
                <a href="/dashboard" class="header-btn header-btn-primary auth-only-logged-in" style="display: none;">
                    <i class="fas fa-chart-line"></i> Dashboard
                </a>
                <button id="logoutBtn" class="header-btn header-btn-secondary auth-only-logged-in" style="display: none;">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="header-mobile-toggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <div class="hero-logo">
                <i class="fas fa-coins"></i>
            </div>
            <h1 class="hero-title">
                Welcome to <span class="gradient-text">FinGenie</span>
            </h1>
            <p class="hero-subtitle">
                Your AI-powered personal finance assistant. Manage your finances securely, 
                track your goals, and make smarter financial decisions with intelligent insights.
            </p>
            <div class="hero-buttons">
                <a href="/signup" class="hero-btn hero-btn-primary auth-only-logged-out">
                    <i class="fas fa-rocket"></i>
                    Get Started Free
                </a>
                <a href="/login" class="hero-btn hero-btn-secondary auth-only-logged-out">
                    <i class="fas fa-sign-in-alt"></i>
                    Sign In
                </a>
                <a href="/dashboard" class="hero-btn hero-btn-primary auth-only-logged-in" style="display: none;">
                    <i class="fas fa-chart-line"></i>
                    Go to Dashboard
                </a>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="stats-grid">
            <div class="stat-item">
                <div class="stat-number">10K+</div>
                <div class="stat-label">Active Users</div>
            </div>
            <div class="stat-item" style="animation-delay: 0.1s;">
                <div class="stat-number">â‚¹50M+</div>
                <div class="stat-label">Assets Managed</div>
            </div>
            <div class="stat-item" style="animation-delay: 0.2s;">
                <div class="stat-number">98%</div>
                <div class="stat-label">Success Rate</div>
            </div>
            <div class="stat-item" style="animation-delay: 0.3s;">
                <div class="stat-number">24/7</div>
                <div class="stat-label">AI Support</div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <h2 class="section-title">Powerful Features</h2>
        <p class="section-subtitle">
            Everything you need to take control of your financial future
        </p>
        
        <div class="features-grid">
            <div class="feature-card fade-in">
                <div class="feature-icon">
                    <i class="fas fa-chart-pie"></i>
                </div>
                <h3 class="feature-title">Smart Dashboard</h3>
                <p class="feature-description">
                    Get a comprehensive overview of your financial health with interactive 
                    charts and real-time insights that help you make informed decisions.
                </p>
            </div>

            <div class="feature-card fade-in" style="animation-delay: 0.1s;">
                <div class="feature-icon" style="background: var(--gradient-success);">
                    <i class="fas fa-comments"></i>
                </div>
                <h3 class="feature-title">AI Assistant</h3>
                <p class="feature-description">
                    Chat with our advanced AI for personalized financial advice, budgeting 
                    tips, and investment guidance tailored to your goals.
                </p>
            </div>

            <div class="feature-card fade-in" style="animation-delay: 0.2s;">
                <div class="feature-icon" style="background: var(--gradient-warm);">
                    <i class="fas fa-bullseye"></i>
                </div>
                <h3 class="feature-title">Goal Tracking</h3>
                <p class="feature-description">
                    Set and track your financial goals with smart progress monitoring and 
                    achievement predictions to keep you motivated.
                </p>
            </div>

            <div class="feature-card fade-in" style="animation-delay: 0.3s;">
                <div class="feature-icon" style="background: var(--gradient-cool);">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h3 class="feature-title">Secure & Private</h3>
                <p class="feature-description">
                    Your financial data is encrypted and protected with bank-level security. 
                    We never share your information with third parties.
                </p>
            </div>

            <div class="feature-card fade-in" style="animation-delay: 0.4s;">
                <div class="feature-icon" style="background: var(--gradient-primary);">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3 class="feature-title">Investment Insights</h3>
                <p class="feature-description">
                    Get AI-powered investment recommendations and portfolio analysis to 
                    maximize your returns and minimize risks.
                </p>
            </div>

            <div class="feature-card fade-in" style="animation-delay: 0.5s;">
                <div class="feature-icon" style="background: var(--gradient-success);">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3 class="feature-title">Mobile Friendly</h3>
                <p class="feature-description">
                    Access your financial dashboard anywhere, anytime. Fully responsive 
                    design works seamlessly on all devices.
                </p>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <h2 class="cta-title">Ready to Transform Your Financial Future?</h2>
        <p class="cta-subtitle">
            Join thousands of users who are already managing their finances smarter 
            with FinGenie's AI-powered insights.
        </p>
        <div class="hero-buttons">
            <a href="/signup" class="hero-btn hero-btn-primary auth-only-logged-out">
                <i class="fas fa-rocket"></i>
                Start Free Today
            </a>
            <a href="/login" class="hero-btn hero-btn-secondary auth-only-logged-out">
                <i class="fas fa-sign-in-alt"></i>
                Sign In
            </a>
            <a href="/dashboard" class="hero-btn hero-btn-primary auth-only-logged-in" style="display: none;">
                <i class="fas fa-chart-line"></i>
                Go to Dashboard
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 FinGenie. All rights reserved. | AI-Powered Personal Finance Assistant</p>
    </footer>

    <script src="{{ url_for('static', filename='js/theme-toggle.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script>
        // Check authentication and update UI
        function updateHomePageUI() {
            const token = localStorage.getItem('token');
            const isLoggedIn = !!token;

            // Show/hide elements based on auth status
            const loggedOutElements = document.querySelectorAll('.auth-only-logged-out');
            const loggedInElements = document.querySelectorAll('.auth-only-logged-in');

            loggedOutElements.forEach(el => {
                el.style.display = isLoggedIn ? 'none' : '';
            });

            loggedInElements.forEach(el => {
                el.style.display = isLoggedIn ? '' : 'none';
            });
        }

        // Run on page load
        document.addEventListener('DOMContentLoaded', updateHomePageUI);

        // Also run immediately in case DOM is already loaded
        if (document.readyState !== 'loading') {
            updateHomePageUI();
        }

        // Add logout handler
        const logoutBtn = document.getElementById('logoutBtn');
        if (logoutBtn) {
            logoutBtn.addEventListener('click', async function(e) {
                e.preventDefault();
                try {
                    await apiRequest('/auth/logout', 'POST');
                    localStorage.removeItem('token');
                    updateHomePageUI();
                    if (typeof toast !== 'undefined') {
                        toast.success('Logged out successfully');
                    }
                    // Refresh page to update UI
                    setTimeout(() => {
                        window.location.reload();
                    }, 500);
                } catch (error) {
                    console.error('Logout error:', error);
                    localStorage.removeItem('token');
                    window.location.reload();
                }
            });
        }

        // Smooth scroll for about link
        function scrollToSection(event, sectionId) {
            event.preventDefault();
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }
    </script>
</body>
</html>
